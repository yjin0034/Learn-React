<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>ê³ ì–‘ì´ ê°€ë¼ì‚¬ëŒ€</title>
  </head>
  <style>
    body {
      text-align: center;
    }
    .main-card button {
      position: relative;
      left: -45px;
      bottom: 15px;
    }
    .favorites {
      list-style: none;
      display: flex;
      justify-content: center;
      flex-wrap: wrap;
      gap: 15px;
    }
  </style>
  <body>
    <div id="app"></div>
    <!-- React ì¶”ê°€ -->
    <script
      src="https://unpkg.com/react@17/umd/react.development.js"
      crossorigin
    ></script>
    <script
      src="https://unpkg.com/react-dom@17/umd/react-dom.development.js"
      crossorigin
    ></script>
    <!-- Babel ì¶”ê°€ -->
    <script src="https://unpkg.com/babel-standalone@6/babel.min.js"></script>
    <script type="text/babel">
      console.log("ì•¼ì˜¹");

      // Title ì»´í¬ë„ŒíŠ¸
      const Title = (props) => {
        return (
          <h1>{props.children}</h1>
        );
      }

      // Form ì»´í¬ë„ŒíŠ¸
      // í¼ ì „ì†¡ ì´ë²¤íŠ¸ : onSubmit
      // (App ì»´í¬ë„ŒíŠ¸ì˜) handleFormSubmit í•¨ìˆ˜ë¥¼ propsë¡œ ë°›ì•„ì˜¨ë‹¤  
      const Form = ({handleFormSubmit}) => {
        
        return (
          <form onSubmit={handleFormSubmit}>
            <input
              type="text"
              name="name"
              placeholder="ì˜ì–´ ëŒ€ì‚¬ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”"
            />
            <button type="submit">ìƒì„±</button>
          </form>
        );
      }

      // CatItem ì»´í¬ë„ŒíŠ¸
      // ì»´í¬ë„ŒíŠ¸ ì´ë¦„ì€ ëŒ€ë¬¸ìë¡œ ì‹œì‘
      // <img style={{ width: "150px", border: "1px solid blue" }} : ì¸ë¼ì¸ ìŠ¤íƒ€ì¼ë§
      function CatItem(props) {
        return (
          <li>
            <img src={props.img} style={{ width: "150px", border: "1px solid blue" }} />
          </li>
        );
      }

      // Favorites ì»´í¬ë„ŒíŠ¸
      function Favorites() {
        return (
          <ul className="favorites">
            <CatItem img="./images/cat2.png"/>
            <CatItem img="./images/cat3.png"/>
          </ul>
        );
      }

      // MainCard ì»´í¬ë„ŒíŠ¸
      // ES6+ ë””ìŠ¤íŠ¸ëŸ­ì²˜ë§ ë¬¸ë²• ì ìš©
      // (App ì»´í¬ë„ŒíŠ¸ì˜) mainCard ê°’ì„ propsë¡œ ë°›ì•„ì˜¨ë‹¤.
      // ë§ˆìš°ìŠ¤ ì´ë²¤íŠ¸ : onClick, onMouseOver
      // Reactì—ì„œëŠ” onClickê³¼ ê°™ì´ cë¥¼ ëŒ€ë¬¸ìë¡œ ì¨ì£¼ì–´ì•¼ í•œë‹¤.
      const MainCard = ({img}) => {
        function handleHeartClick() {
          console.log("í•˜íŠ¸ ëˆŒë €ìŒâ¤");
        }
        function handleHeartMouseOn() {
          console.log("í•˜íŠ¸ ìŠ¤ì³ ì§€ë‚˜ê°ğŸ–ğŸ»");
        }
        return (
          <div className="main-card">
            <img
              src={img}
              alt="ê³ ì–‘ì´"
              width="400"
            /> 
            <button onClick={handleHeartClick} onMouseOver={handleHeartMouseOn}>ğŸ¤</button>
          </div>
        );
      }

      // App ì»´í¬ë„ŒíŠ¸
      const App = () => {

        // ê³ ì–‘ì´ ì´ë¯¸ì§€ ì‚¬ì§„ì„ ê° ë³€ìˆ˜ì— ë‹´ìŒ
        const CAT1 = "./images/cat1.jpg"
        const CAT2 = "./images/cat2.png"
        const CAT3 = "./images/cat3.png"

        // useState() : ì»´í¬ë„ŒíŠ¸ì˜ ìƒíƒœ ê´€ë¦¬ë¥¼ ìœ„í•´ React Hooksì—ì„œ ì œê³µë˜ëŠ” í•¨ìˆ˜
        // useStateì˜ ì²« ë²ˆì§¸ ì¸ì(counter)ëŠ” ì„¤ì •ëœ ì¹´ìš´í„° ë³€ìˆ˜ ê·¸ ìì²´ì´ê³ ,
        // ë‘ ë²ˆì§¸ ì¸ì(setCounter)ëŠ” ì¹´ìš´í„°ë¥¼ ì¡°ì‘í•˜ëŠ” í•¨ìˆ˜ì´ë‹¤.
        // setCounterë¥¼ í†µí•´ ì¹´ìš´í„° ê°’ì„ ë³€ê²½í•  ìˆ˜ ìˆë‹¤.
        // useState(1) : ì²« ë²ˆì§¸ ì¸ìì— 1ì„ ì¤Œ. ì¦‰, ì²« ë²ˆì§¸ ì¸ìì˜ ì´ˆê¸° ê°’ìœ¼ë¡œ 1ì„ ì¤Œ.
        const [counter, setCounter] = React.useState(1);

        // ì²« ë²ˆì§¸ ì¸ì mainCatëŠ” ì„¤ì •ëœ ë³€ìˆ˜ ê·¸ ìì²´ì´ê³ ,
        // ë‘ ë²ˆì§¸ ì¸ì setMainCatì€ CAT1 ë³€ìˆ˜ë¥¼ ì¡°ì‘í•˜ëŠ” í•¨ìˆ˜ì´ë‹¤.
        // useState(CAT1) : ì²« ë²ˆì§¸ ì¸ìë¡œ CAT1ì„ ì¤Œ. ì¦‰, ì²« ë²ˆì§¸ ì¸ìì˜ ì´ˆê¸° ê°’ìœ¼ë¡œ CAT1ì„ ì„¤ì •.
        const [mainCat, setMainCat] = React.useState(CAT1)

        // í˜„ì¬ ì¹´ìš´í„° ì½˜ì†” ì¶œë ¥
        console.log("ì¹´ìš´í„°", counter)

        // event.preventDefault()
        // HTMLì˜ ê¸°ë³¸ ë™ì‘ : í¼ì— ì „ì†¡ì„ í•˜ë©´, ë¸Œë¼ìš°ì €ê°€ ë¦¬í”„ë ˆì‰¬ ëœë‹¤.
        // ì´ë¥¼ ë§‰ê¸° ìœ„í•´, í¼ì˜ ì²« ë²ˆì§¸ ì¸ìë¡œ ë“¤ì–´ì˜¤ëŠ” eventì— .preventDefault()ë¥¼
        // ì ìš©í•˜ë©´ ì´ë²¤íŠ¸ì˜ ê¸°ë³¸ ë™ì‘ì„ ë§‰ì„ ìˆ˜ ìˆë‹¤. ì¦‰, í¼ ì „ì†¡ í›„ ë¸Œë¼ìš°ì €ê°€ ë¦¬í”„ë ˆì‰¬ ë˜ëŠ” ê±¸ ë§‰ì„ ìˆ˜ ìˆë‹¤.
        function handleFormSubmit(event) {
          event.preventDefault();
          console.log("í¼ ì „ì†¡ë¨");
          // ì¹´ìš´í„° ê°’ì— +1ì„ í•˜ê¸°
          // ì¦‰, í¼ì„ ìƒì„±í•˜ë©´, ì¹´ìš´í„° +1ì´ ì´ë£¨ì–´ì§„ë‹¤.
          // setCounter í•¨ìˆ˜ë¥¼ í†µí•´ ì¹´ìš´í„°ë¥¼ ì¡°ì‘í•¨
          setCounter(counter + 1);
          // mainCatì˜ ê°’ì„ CAT2ë¡œ ë³€ê²½í•˜ê¸°
          // í¼ì„ ìƒì„±í•˜ë©´, CAT2 ê°’ìœ¼ë¡œ ë³€ê²½ëœë‹¤. 
          // (ì¦‰ ê²°êµ­, í•´ë‹¹ ê°’ì€ MainCard ì»´í¬ë„ŒíŠ¸ì— ì „ë‹¬ë˜ì–´, CAT2 ë³€ìˆ˜ì— ì €ì¥ëœ ê³ ì–‘ì´ ì´ë¯¸ì§€ë¡œ ì´ë¯¸ì§€ê°€ ë³€ê²½ëœë‹¤.)
          setMainCat(CAT2)
        }

        // <Form handleFormSubmit={handleFormSubmit}/> : Form ì»´í¬ë„ŒíŠ¸ì— handleFormSubmit í•¨ìˆ˜ë¥¼ propsë¡œ ë„˜ê²¨ì¤€ë‹¤.
        // <MainCard img={mainCat}/> : MainCard ì»´í¬ë„ŒíŠ¸ì— mainCat ê°’ì„ ì´ë¯¸ì§€ë¡œ ì „ë‹¬
        return (
          <div>
            <Title>{counter}ë²ˆì§¸ ê³ ì–‘ì´ê°€ ë§í•œëŒ±</Title>
            <Title>2ë²ˆì§¸ ê³ ì–‘ì´ê°€ ë§í•œëŒ±</Title>
            <Form handleFormSubmit={handleFormSubmit}/>
            <MainCard img={mainCat}/>
            <Favorites />
          </div>
        );
      }

      const ì—¬ê¸°ë‹¤ê°€ê·¸ë ¤ = document.querySelector("#app");

      ReactDOM.render(<App />, ì—¬ê¸°ë‹¤ê°€ê·¸ë ¤);
    </script>
  </body>
</html>